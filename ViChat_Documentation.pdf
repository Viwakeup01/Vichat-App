ğŸ“„ ViChat Real-Time Chat App Documentation (Full Stack)
ğŸ”§ Project Stack
Frontend: React + Vite

Backend: Node.js + Express

Database: MongoDB (via Mongoose)

Real-time: Socket.IO

Styling: TailwindCSS (optional)

Version Control: Git + GitHub

ğŸ“ Folder Structure (Simplified)
bash
Copy
Edit
ViChat/
â”œâ”€â”€ Chat-backend/
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ config/db.js
â”‚   â”œâ”€â”€ routes/userRoutes.js
â”‚   â”œâ”€â”€ controllers/userController.js
â”‚   â””â”€â”€ ...
â””â”€â”€ chat-frontend/
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ App.jsx
    â”‚   â”œâ”€â”€ socket.js
    â”‚   â””â”€â”€ components/
    â”‚       â”œâ”€â”€ Sidebar.jsx
    â”‚       â”œâ”€â”€ ChatWindow.jsx
    â”‚       â””â”€â”€ MessageInput.jsx

1ï¸âƒ£ Backend Setup

âœ… MongoDB Connection
js
// config/db.js
const mongoose = require("mongoose");

const connectDB = async () => {
  try {
    const conn = await mongoose.connect(process.env.MONGO_URI);
    console.log(`MongoDB connected: ${conn.connection.host}`);
  } catch (error) {
    console.error(error);
    process.exit(1);
  }
};

module.exports = connectDB;


âœ… Express Server (with Socket.IO)
js
// index.js
const express = require("express");
const http = require("http");
const socketIo = require("socket.io");
const connectDB = require("./config/db");

const app = express();
const server = http.createServer(app);
const io = socketIo(server, {
  cors: { origin: "http://localhost:5173", credentials: true },
});

connectDB();
app.use(express.json());

io.on("connection", (socket) => {
  console.log("ğŸ”Œ New client connected");

  socket.on("joinRoom", (roomId) => {
    socket.join(roomId);
    console.log(`ğŸ‘¥ Joined room: ${roomId}`);
  });

  socket.on("sendMessage", ({ roomId, message }) => {
    io.to(roomId).emit("receiveMessage", message);
  });

  socket.on("disconnect", () => console.log("âŒ Client disconnected"));
});

server.listen(process.env.PORT || 5000, () =>
  console.log("ğŸš€ Server running")
);


2ï¸âƒ£ Frontend Setup

âœ… socket.js - Global Socket Instance
js
// src/socket.js
import { io } from "socket.io-client";
const socket = io("http://localhost:5000", {
  transports: ["websocket"],
  withCredentials: true,
});
export default socket;


âœ… App.jsx - Central Integration
jsx
Copy
Edit
// App.jsx
import React, { useEffect, useState } from "react";
import socket from "./socket";
import Sidebar from "./components/Sidebar";
import ChatWindow from "./components/ChatWindow";
import MessageInput from "./components/MessageInput";

function App() {
  const [messages, setMessages] = useState([]);
  const [messageInput, setMessageInput] = useState("");

  useEffect(() => {
    socket.emit("joinRoom", "room1");
    socket.on("receiveMessage", (message) => {
      setMessages((prev) => [...prev, message]);
    });
    return () => socket.off("receiveMessage");
  }, []);

  const sendMessage = () => {
    if (messageInput.trim()) {
      socket.emit("sendMessage", { roomId: "room1", message: messageInput });
      setMessageInput("");
    }
  };

  return (
    <div className="flex">
      <Sidebar />
      <div className="flex-grow flex flex-col">
        <ChatWindow messages={messages} />
        <MessageInput
          message={messageInput}
          setMessage={setMessageInput}
          onSend={sendMessage}
        />
      </div>
    </div>
  );
}

export default App;


3ï¸âƒ£ Components
ğŸªŸ ChatWindow.jsx
jsx
// components/ChatWindow.jsx
function ChatWindow({ messages }) {
  return (
    <div className="chat-window p-4">
      {messages.map((msg, i) => (
        <div key={i} className="p-2 bg-gray-100 my-1 rounded">{msg}</div>
      ))}
    </div>
  );
}
export default ChatWindow;


âŒ¨ï¸ MessageInput.jsx
jsx
Copy
Edit
// components/MessageInput.jsx
function MessageInput({ message, setMessage, onSend }) {
  return (
    <div className="p-2 border-t flex">
      <input
        value={message}
        onChange={(e) => setMessage(e.target.value)}
        placeholder="Type a message"
        className="flex-grow border p-2 rounded"
      />
      <button onClick={onSend} className="ml-2 px-4 bg-blue-500 text-white rounded">
        Send
      </button>
    </div>
  );
}
export default MessageInput;


ğŸ“œ Sidebar.jsx
jsx
Copy
Edit
// components/Sidebar.jsx
function Sidebar() {
  return (
    <div className="w-64 bg-gray-200 p-4">
      <h2 className="font-bold text-lg">ViChat</h2>
      {/* Add chat list or user profile later */}
    </div>
  );
}
export default Sidebar;


ğŸ§ª Testing
To test multi-user chat:
Open two browser windows/tabs

Open http://localhost:5173

Both should see real-time messages without refresh.


ğŸ“Œ Features Built So Far
Feature	Status âœ…
MongoDB connection	âœ…
Express backend setup	âœ…
Socket.IO server integration	âœ…
Frontend created with Vite	âœ…
Global Socket client setup	âœ…
Message input & display	âœ…
Real-time messaging	âœ…
Room-based messaging (room1)	âœ…


ğŸ§­ Next Possible Steps
ğŸ” Add User Auth (JWT + bcrypt)

ğŸ’¬ Store Messages in MongoDB

ğŸ§‘â€ğŸ¤â€ğŸ§‘ Support Multiple Chat Rooms / Users

âœ¨ Emoji Picker & Typing Indicator

ğŸŒ™ Dark Mode Toggle

ğŸ“± Make UI fully responsive

